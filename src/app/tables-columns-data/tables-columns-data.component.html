<!-- <a routerLink="/tabscolumns/acm_address_setting"><button class="btn btn-success pull-left">Previous</button></a> -->
<a routerLink="/tabscolumns/{{selected_table}}"><i class="fa fa-solid fa-arrow-left"></i></a>
<span >
	<div (click)="isActive = !isActive">
		<i class="fa fa-keyboard errspan" [ngClass]="{'active': !isActive}">	
		</i>
	  </div>
  </span>
 <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>

<div *ngIf="!boolValue; else notInclude ">

   <table class="table table-bordered" #ITable>
    <thead>
      <tr>
        <th scope="col">Column value</th>
        <th *ngFor="let l of global_langues" scope="col">{{ l.locale }}</th>
        <th scope="col">Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let s of array_string | paginate : {
        itemsPerPage: pageSize,
        currentPage: page,
        totalItems: count
      };
let i = index
"
[class.active]="i == currentIndex"
>

        <td>{{ s }}</td>
        <td *ngFor="let l of global_langues;let j = index;trackBy: trackByFn">
            <div *ngFor="let d of db_data">
              <div *ngFor="let dd of d.translations">
                <div *ngIf="dd.langue === l.locale && s === d.field_value">
                  <input type="text" name="items[]" value="{{dd.value}}" [matAutocomplete]="auto"
                  (keyup)="onKeyUp($event,j)" (click)="myClickFunction(j)"
                  />   

                  
               
                  <mat-autocomplete #auto="matAutocomplete">
                    <mat-option *ngFor="let f of filteredTranslation " [value]="f">
                      {{f}}
                    </mat-option>
                  </mat-autocomplete>
                  </div>
                </div>
                </div>


                <div *ngFor="let m of missing">
                <div *ngIf="s === m">
                  <input type="text" name="items[]" [matAutocomplete]="auto"
                  (keyup)="onKeyUp($event,j)" (click)="myClickFunction(j)"
                 

                   />

                 
                
                  <mat-autocomplete #auto="matAutocomplete">
                    <mat-option *ngFor="let f of filteredTranslation " [value]="f">
                      {{f}}
                    </mat-option>
                  </mat-autocomplete>
                </div>               
              </div> 
              
              
              <div *ngFor="let m of missing_lang">
                  <div *ngIf="m.langue === l.locale && s === m.field_value ">
                  <input type="text" name="items[]" [matAutocomplete]="auto"
                  (keyup)="onKeyUp($event,j)" (click)="myClickFunction(j)"
                 
                 />

                 
                 
                  <mat-autocomplete #auto="matAutocomplete">
                    <mat-option *ngFor="let f of filteredTranslation " [value]="f">
                      {{f}}
                    </mat-option>
                  </mat-autocomplete>
                  </div>
                 
                </div>      
        </td>
        <td>
          <button class="btn-wide mb-2 me-2 btn btn-primary btn-sm" (click)="addTranslation(i)">save</button>
        </td>
      </tr>
    </tbody>
  </table>
  <div class="col-md-12">
    <pagination-controls
      previousLabel="Prev"
      nextLabel="Next"
      responsive="true"
      (pageChange)="handlePageChange($event)"
    ></pagination-controls>
  </div>
  <div align="right">
    Items per Page :<select (change)="handlePageSizeChange($event)" >
  <option *ngFor="let size of pageSizes" [ngValue]="size">
    {{ size }}
  </option>
</select>
</div>
</div>


 <ng-template #notInclude>
  Table Name:
  <select [(ngModel)]="selected_tab" (ngModelChange)="select1($event)" class="browser-default custom-select">
    <option value="Select one" selected>Select one</option>
    <option *ngFor="let c of last_array">{{ c.TABLE_ABACUS_NAME }}</option>
  </select>
 
  column:
  <select [(ngModel)]="selected_col" class="browser-default custom-select" (ngModelChange)="select2($event)">
    <option value="Select one" selected>Select one</option>
    <option *ngFor="let c of columns">{{ c }}</option>
  </select>
  <div *ngIf="!columns_exists && selected_tab ||!select2_array_exists && selected_col || page_change_paginate && !select2_array_exists">
    <div class="disable-background">
      <mat-progress-spinner [mode]="'indeterminate'" >
</mat-progress-spinner>
    </div> 
  </div>  
  <br />
  <br />
 <div *ngIf="selected_tab && selected_col">
  <table class="table table-bordered">
    <thead>
      <tr>
        <th scope="col">Column value</th>
        <th *ngFor="let l of global_langues" scope="col">{{ l.locale }}</th>
        <th scope="col">Translation</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let c of select2_array| paginate : {
        itemsPerPage: pageSize,
        currentPage: page,
        totalItems: count
      };
let i = index"
[class.active]="i == currentIndex"
>
        <td>{{ c }}</td>
        <td *ngFor="let l of global_langues; index as j">
          <div *ngFor="let d of db_data_json">
            <div *ngFor="let dd of d.translations">             
              <div *ngIf="dd.langue === l.locale && c === d.field_value">
          <input type="text" name="items[]" value="{{dd.value}}" [matAutocomplete]="auto"
          (keyup)="onKeyUp($event,j)" (click)="myClickFunction(j)" />
         
          <mat-autocomplete #auto="matAutocomplete">
            <mat-option *ngFor="let f of filteredTranslation " [value]="f">
              {{f}}
            </mat-option>
          </mat-autocomplete>
          </div>
          </div>
          </div>
          <div *ngFor="let m of missing">
            <div *ngIf="c === m">
              <input type="text" name="items[]" [matAutocomplete]="auto"
              (keyup)="onKeyUp($event,j)" (click)="myClickFunction(j)"  />
              
              <mat-autocomplete #auto="matAutocomplete">
                <mat-option *ngFor="let f of filteredTranslation " [value]="f">
                  {{f}}
                </mat-option>
              </mat-autocomplete>
              </div>
            </div>
            <div *ngFor="let m of missing_lang">
              <div *ngIf="m.langue === l.locale && c === m.field_value ">
              <input type="text" name="items[]" [matAutocomplete]="auto"
              (keyup)="onKeyUp($event,j)" (click)="myClickFunction(j)" (input)="onInputChange($event)" />
             
              <mat-autocomplete #auto="matAutocomplete">
                <mat-option *ngFor="let f of filteredTranslation " [value]="f">
                  {{f}}
                </mat-option>
              </mat-autocomplete>
              </div>
            </div>    
        </td>
        <td>
          <button class="btn-wide mb-2 me-2 btn btn-primary btn-sm" (click)="addTranslation1(i)">save</button>
        </td>
      </tr>
    </tbody>
  </table>
  <div class="col-md-12">
    <pagination-controls
      previousLabel="Prev"
      nextLabel="Next"
      responsive="true"
      (pageChange)="handlePageChange($event)"
    ></pagination-controls>
  </div> 
  <div align="right">
    Items per Page:
<select (change)="handlePageSizeChange($event)">
  <option *ngFor="let size of pageSizes" [ngValue]="size">
    {{ size }}
  </option>
</select>
  </div>
  </div>
  
</ng-template>


<ng-template #content let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">New {{selected_table}}</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <form #f="ngForm" (ngSubmit)="onSubmit(f)" novalidate>
      <div *ngFor="let item of list_columns" class="form-group">
          <label for={{item}}>{{item}}</label>
          <div class="input-group">
            <input id={{item}} name={{item}} class="form-control" ngModel>
          </div>
        </div>
       
        <div class="border text-center">
          <button data-dismiss="modal" class="btn btn-info">Submit</button>
          </div>
    </form>
  </div>
 
</ng-template> 




<div style="text-align:center" [ngClass]="!isActive ? 'hide-keyboard' : ''">
  <input
(input)="onInputChange($event)"
class="input"
value="{{value}}"
#userinput
placeholder="Tap on the virtual keyboard to start"
/>
<button (click)="copyInputMessage(userinput)" value="click to copy" >Copy from Textbox</button>


<!-- <i (click)="copyInputMessage(userinput)" class="material-icons">search</i> -->

	<div class="simple-keyboard"></div>
	<div class="select-container">
		<select class='select-option' required (change)="onSelectChange($event)">
			<option class='option' [selected]="layout.name == selectedLayout" *ngFor='let layout of layouts' [value]="layout.name">{{layout.name}}</option>
		</select>
	</div>
  </div>

     
   


  


